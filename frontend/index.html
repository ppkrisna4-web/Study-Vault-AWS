<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study Vault - Text to Speech Converter</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Background Effects -->
    <div class="background-grid"></div>
    <div class="background-gradient"></div>

    <!-- Main Container -->
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo-section">
                <div class="logo-icon">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                        <path d="M16 4L4 10V22L16 28L28 22V10L16 4Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                        <path d="M16 16L22 12.5M16 16L10 12.5M16 16V22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
                <div class="logo-text">
                    <h1>Study Vault</h1>
                    <p class="subtitle">Text to Speech Converter</p>
                </div>
            </div>
            <div class="status-badge" id="statusBadge">
                <span class="status-dot"></span>
                <span class="status-text">Initializing...</span>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Upload Section -->
            <section class="upload-section">
                <div class="section-header">
                    <h2>Upload Text File</h2>
                    <p>Drag and drop your .txt file or click to browse</p>
                </div>

                <div class="upload-zone" id="uploadZone">
                    <div class="upload-icon">
                        <svg width="64" height="64" viewBox="0 0 64 64" fill="none">
                            <path d="M32 12V40M32 12L22 22M32 12L42 22" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M52 40V50C52 51.1046 51.1046 52 50 52H14C12.8954 52 12 51.1046 12 50V40" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div class="upload-text">
                        <p class="upload-title">Drop your text file here</p>
                        <p class="upload-subtitle">or <span class="upload-link">click to browse</span></p>
                    </div>
                    <input type="file" id="fileInput" accept=".txt" hidden>
                    <div class="upload-info">
                        <span>Supported format: .txt</span>
                        <span>•</span>
                        <span>Max size: 10MB</span>
                    </div>
                </div>

                <!-- File Preview -->
                <div class="file-preview" id="filePreview" style="display: none;">
                    <div class="file-info">
                        <div class="file-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M14 2V8H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div class="file-details">
                            <p class="file-name" id="fileName"></p>
                            <p class="file-size" id="fileSize"></p>
                        </div>
                    </div>
                    <button class="btn-remove" id="btnRemove" title="Remove file">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M15 5L5 15M5 5L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </button>
                </div>

                <!-- Upload Progress -->
                <div class="upload-progress" id="uploadProgress" style="display: none;">
                    <div class="progress-header">
                        <span class="progress-label">Uploading to S3...</span>
                        <span class="progress-percentage" id="uploadPercentage">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="uploadProgressBar"></div>
                    </div>
                </div>

                <button class="btn-primary" id="btnUpload" disabled>
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M17.5 12.5V15.8333C17.5 16.2754 17.3244 16.6993 17.0118 17.0118C16.6993 17.3244 16.2754 17.5 15.8333 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V12.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M14.1667 6.66667L10 2.5L5.83333 6.66667" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M10 2.5V12.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Upload & Convert</span>
                </button>
            </section>

            <!-- Conversion Status -->
            <section class="conversion-section" id="conversionSection" style="display: none;">
                <div class="conversion-card">
                    <div class="waveform-container">
                        <div class="waveform" id="waveform">
                            <div class="wave-bar"></div>
                            <div class="wave-bar"></div>
                            <div class="wave-bar"></div>
                            <div class="wave-bar"></div>
                            <div class="wave-bar"></div>
                            <div class="wave-bar"></div>
                            <div class="wave-bar"></div>
                            <div class="wave-bar"></div>
                        </div>
                    </div>
                    <div class="conversion-info">
                        <p class="conversion-status" id="conversionStatus">Converting text to speech...</p>
                        <p class="conversion-detail">This usually takes 10-30 seconds</p>
                    </div>
                </div>
            </section>

            <!-- Files List -->
            <section class="files-section">
                <div class="section-header">
                    <h2>Converted Files</h2>
                    <button class="btn-refresh" id="btnRefresh" title="Refresh list">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M17.5 2.5V7.5H12.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15.8333 12.5C15.3607 13.8385 14.4762 14.9902 13.2951 15.8039C12.1139 16.6175 10.697 17.0524 9.24745 17.0503C7.79791 17.0482 6.38247 16.6091 5.20375 15.7918C4.02503 14.9746 3.14439 13.8198 2.67639 12.4796C2.20839 11.1395 2.17613 9.68578 2.58445 8.32614C2.99277 6.9665 3.82227 5.77366 4.95832 4.91295C6.09438 4.05223 7.48329 3.56676 8.92861 3.52393C10.3739 3.4811 11.7884 3.88293 12.975 4.675L17.5 7.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>

                <div class="files-list" id="filesList">
                    <!-- Files will be inserted here dynamically -->
                </div>

                <div class="empty-state" id="emptyState">
                    <svg width="80" height="80" viewBox="0 0 80 80" fill="none">
                        <path d="M50 20H23.3333C22.4493 20 21.6014 20.3512 20.9763 20.9763C20.3512 21.6014 20 22.4493 20 23.3333V56.6667C20 57.5507 20.3512 58.3986 20.9763 59.0237C21.6014 59.6488 22.4493 60 23.3333 60H56.6667C57.5507 60 58.3986 59.6488 59.0237 59.0237C59.6488 58.3986 60 57.5507 60 56.6667V30L50 20Z" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M50 20V30H60" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <p>No converted files yet</p>
                    <span>Upload a text file to get started</span>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Built with AWS Lambda, S3 & Amazon Polly</p>
            <div class="footer-links">
                <a href="https://github.com/yourusername/study-vault-aws" target="_blank" rel="noopener">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M10 0C4.477 0 0 4.477 0 10c0 4.42 2.865 8.17 6.839 9.49.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.603-3.369-1.34-3.369-1.34-.454-1.156-1.11-1.463-1.11-1.463-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.831.092-.646.35-1.086.636-1.336-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.269 2.75 1.025A9.578 9.578 0 0110 4.836c.85.004 1.705.114 2.504.336 1.909-1.294 2.747-1.025 2.747-1.025.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.578.688.48C17.137 18.163 20 14.418 20 10c0-5.523-4.477-10-10-10z"/>
                    </svg>
                    GitHub
                </a>
                <span>•</span>
                <a href="https://aws.amazon.com" target="_blank" rel="noopener">AWS</a>
            </div>
        </footer>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- AWS SDK -->
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.1563.0.min.js"></script>
    
    <!-- Config & App Scripts -->
    <script src="config.js"></script>
    <script src="app.js"></script>
</body>
</html>
